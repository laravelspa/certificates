import{ab as S,A as k,f as b,a8 as $,a7 as j,n as B,aT as C,o as Q,c as U,w as r,a as n,T as g,V as a,a6 as v,R as s,O as f,S as x}from"./app.3d0443e2.js";import{Q as h,a as A}from"./QCard.8d93a297.js";import{e as D,u as O,Q as I}from"./i18n-validators.a07dc84a.js";import{a as d}from"./import.36533b1a.js";import"./use-dark.46133ca7.js";import"./focus-manager.387b0375.js";import"./index.esm.0660b863.js";const E={class:"row items-center justify-center"},F={class:"col-lg-6 col-md-12 col-xs-12 flex justify-center items-center"},N={class:"col-12"},T={class:"text-h5"},z={class:"col-lg-6 col-md-12 col-xs-12 flex justify-center items-center"},M={class:"col-12"},R={class:"row q-col-gutter-md q-mt-xs"},G={class:"col-12"},H={class:"text-h5 bg-primary text-white q-pa-md"},J={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},K={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},L={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},P={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},W={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},oe={__name:"Form",async setup(X){let u,_;const{t:i}=S(),t=k({email:"",system_name:"",company_name:"",company_phone:"",company_address:""}),V=b(()=>({email:{email:D}})),c=O(V,t),p=$(),y=async()=>{let o=[];Object.keys(t).forEach(m=>{var l;o.push({key:m,value:(l=t[m])!=null?l:null})}),await c.value.$validate()&&await p.dispatch("setting/createOrUpdate",o)};[u,_]=j(()=>p.dispatch("setting/fetchSystemSettings")),await u,_();const q=b(()=>p.getters["setting/getSystemSettings"]),w=async o=>{var e;return(e=q.value.find(m=>m.key===o))==null?void 0:e.value};return B(async()=>{Object.keys(t).forEach(async o=>{t[o]=await w(o)||t[o]})}),(o,e)=>{const m=C("permission");return Q(),U(A,{class:"bg-transparent",flat:"",style:{"max-width":"800px","margin-left":"auto","margin-right":"auto","border-radius":"20px"}},{default:r(()=>[n(h,{class:g(o.$q.dark.isActive?"bg-dark":"bg-white")},{default:r(()=>[a("div",E,[a("div",F,[a("div",N,[a("div",T,v(s(i)("card.system_settings")),1)])]),a("div",z,[a("div",M,[f(n(x,{label:s(i)("action.cancel"),color:"negative",to:{name:"settings.list"},class:"q-mr-md"},null,8,["label","to"]),[[m,["list-system-setting"]]]),f(n(x,{label:s(i)("action.save"),type:"submit",color:"positive",onClick:y},null,8,["label"]),[[m,["update-system-setting"]]])])])])]),_:1},8,["class"]),n(I,{onSubmit:y},{default:r(()=>[a("div",R,[n(h,{class:"col-lg-12 col-md-12 col-xs-12 q-px-none q-pb-none"},{default:r(()=>[a("div",G,[a("div",H,v(s(i)("card.basic_info")),1)]),a("div",{class:g(["row justify-between q-py-lg",o.$q.dark.isActive?"bg-dark":"bg-white"])},[a("div",J,[n(s(d),{modelValue:t.system_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.system_name=l),label:s(i)("system_name")},null,8,["modelValue","label"])]),a("div",K,[n(s(d),{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=l=>t.email=l),label:s(i)("email"),type:"email",error:s(c).email.$error,onInput:e[2]||(e[2]=()=>s(c).email.$touch()),onBlur:e[3]||(e[3]=()=>s(c).email.$touch()),errors:s(c).email.$errors},null,8,["modelValue","label","error","errors"])]),a("div",L,[n(s(d),{modelValue:t.company_name,"onUpdate:modelValue":e[4]||(e[4]=l=>t.company_name=l),label:s(i)("company_name")},null,8,["modelValue","label"])]),a("div",P,[n(s(d),{modelValue:t.company_phone,"onUpdate:modelValue":e[5]||(e[5]=l=>t.company_phone=l),label:s(i)("company_phone")},null,8,["modelValue","label"])]),a("div",W,[n(s(d),{modelValue:t.company_address,"onUpdate:modelValue":e[6]||(e[6]=l=>t.company_address=l),label:s(i)("company_address")},null,8,["modelValue","label"])])],2)]),_:1})])]),_:1})]),_:1})}}};export{oe as default};
