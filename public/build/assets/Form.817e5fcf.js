import{Q as p,a as R}from"./QCard.8d93a297.js";import{Q as C}from"./QTree.a18da351.js";import{r as x,m as Q,a as S,u as A,Q as B}from"./i18n-validators.a07dc84a.js";import{ab as I,ar as L,aa as O,a_ as j,f as k,a8 as D,a7 as U,o as F,c as N,w as n,a as o,R as e,T as c,V as s,a6 as u}from"./app.3d0443e2.js";import{C as T,a as z,R as H}from"./import.36533b1a.js";import"./use-dark.46133ca7.js";import"./QCheckbox.f712fdb1.js";import"./use-checkbox.1380f23c.js";import"./use-form.ae068b8e.js";import"./focus-manager.387b0375.js";import"./index.esm.0660b863.js";const E={class:"row q-col-gutter-md q-mt-xs"},G={class:"col-12"},J={class:"text-h5 bg-primary text-white q-pa-md"},K={class:"col-lg-6 col-md-6 col-xs-12 q-px-md q-pb-sm"},M={class:"col-12"},P={class:"text-h5 bg-primary text-white q-pa-md"},W={class:"col-lg-12 col-md-12 col-xs-12 q-px-md q-pb-md"},X={class:"col-12"},Y={class:"text-h5 text-white bg-primary q-pa-md"},Z={class:"row items-center q-pt-lg"},ee={class:"col-12 q-px-md q-pb-md"},pe={__name:"Form",props:{formData:{type:Object,required:!0,default:()=>{}}},async setup(w){let g,f;const y=w,{t:d}=I(),b=L(),h=O(),{formData:t}=j(y),V=k(()=>({name:{required:x,minLength:Q(4),maxLength:S(100)},permissions:{required:x}})),r=A(V,t),m=D();[g,f]=U(()=>m.dispatch("permission/fetchOptions")),await g,f();const $=k(()=>m.getters["permission/getOptions"]),q=async()=>{!await r.value.$validate()||(h.params.id&&(await m.dispatch("role/updateRole",t.value),b.push({name:"role.list"})),h.params.id||(await m.dispatch("role/createRole",t.value),b.push({name:"role.list"})))};return(i,a)=>(F(),N(R,{class:"bg-transparent",flat:"",style:{"max-width":"800px","margin-left":"auto","margin-right":"auto","border-radius":"20px"}},{default:n(()=>{var v,_;return[o(e(T),{onOnSubmit:q,module:"role",reference:(v=e(t))==null?void 0:v.name,"item-id":(_=e(t))==null?void 0:_.id,class:c(i.$q.dark.isActive?"bg-dark":"bg-white")},null,8,["reference","item-id","class"]),o(B,{onSubmit:q},{default:n(()=>[s("div",E,[o(p,{class:"col-lg-12 col-md-12 col-xs-12 q-px-none q-pb-none"},{default:n(()=>[s("div",G,[s("div",J,u(e(d)("card.basic_info")),1)]),s("div",{class:c(["row justify-between q-py-lg",i.$q.dark.isActive?"bg-dark":"bg-white"])},[s("div",K,[o(e(z),{modelValue:e(t).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(t).name=l),label:e(d)("name"),error:e(r).name.$error,onInput:a[1]||(a[1]=()=>e(r).name.$touch()),onBlur:a[2]||(a[2]=()=>e(r).name.$touch()),errors:e(r).name.$errors},null,8,["modelValue","label","error","errors"])])],2)]),_:1}),o(p,{class:"col-lg-12 col-md-12 col-xs-12 q-px-none q-pb-none"},{default:n(()=>[s("div",M,[s("div",P,u(e(d)("card.priviliges")),1)]),s("div",{class:c(["row justify-center q-pt-lg",i.$q.dark.isActive?"bg-dark":"bg-white"])},[s("div",W,[o(C,{class:"col-12 col-sm-6",nodes:e($),"node-key":"name","label-key":"name","tick-strategy":"leaf",ticked:e(t).permissions,"onUpdate:ticked":a[3]||(a[3]=l=>e(t).permissions=l)},null,8,["nodes","ticked"])])],2)]),_:1}),o(p,{class:"col-lg-12 col-md-12 col-xs-12 q-px-none q-pb-none"},{default:n(()=>[s("div",X,[s("div",Y,u(e(d)("card.remarks")),1)]),s("div",{class:c(i.$q.dark.isActive?"bg-dark":"bg-white")},[s("div",Z,[s("div",ee,[o(e(H),{modelValue:e(t).remarks,"onUpdate:modelValue":a[4]||(a[4]=l=>e(t).remarks=l)},null,8,["modelValue"])])])],2)]),_:1})])]),_:1})]}),_:1}))}};export{pe as default};
