import{ab as y,a8 as x,a7 as h,f as Q,x as w,o as C,c as V,w as t,a,b1 as A,b2 as I,aW as c,V as l,a5 as f,a6 as m,T as S,aA as z,R as P}from"./app.3d0443e2.js";import{a as k,Q as g}from"./QItemSection.4f5690cc.js";import{Q as q}from"./QItemLabel.65ad92c8.js";import{b as B,Q as L}from"./QSelect.639ca693.js";import"./use-dark.46133ca7.js";import"./use-key-composition.68005297.js";import"./uid.fa5a297c.js";import"./focus-manager.387b0375.js";import"./QMenu.06d5990f.js";import"./position-engine.10c506f8.js";import"./selection.c3b8e743.js";import"./focusout.fcf09816.js";import"./QDialog.70fc69ea.js";import"./use-prevent-scroll.c93d91aa.js";import"./use-form.ae068b8e.js";import"./format.865294d5.js";const M=["src"],N=["src"],Z={__name:"CategoryInput",props:{inputModel:{type:String,default:()=>""},errors:{type:Array,required:!1,default:()=>[]}},async setup(s){let u,p;const{t:v}=y(),d=x();[u,p]=h(()=>d.dispatch("category/fetchOptions")),await u,p();const i=Q(()=>d.getters["category/getOptions"]),n=w(i.value),b=async(o,r)=>{if(o===""){r(()=>{n.value=i.value});return}r(()=>{const e=o.toLowerCase();n.value=i.value.filter(_=>_.name.toLowerCase().indexOf(e)>-1)})};return(o,r)=>(C(),V(L,z({outlined:"",rounded:"",options:n.value,"options-dense":"","option-label":"name","option-value":"id","options-cover":"","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:b,modelValue:s.inputModel,"onUpdate:modelValue":r[0]||(r[0]=e=>s.inputModel=e)},o.$attrs,{label:P(v)("category_id"),"transition-show":"jump-up","transition-hide":"jump-up",behavior:"menu",clearable:""}),{option:t(e=>[a(k,A(I(e.itemProps)),{default:t(()=>[a(g,{avatar:""},{default:t(()=>[a(c,{size:"md"},{default:t(()=>[l("img",{src:e.opt.logo.url},null,8,M)]),_:2},1024)]),_:2},1024),a(g,null,{default:t(()=>[a(q,null,{default:t(()=>[f(m(e.opt.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),error:t(()=>[l("div",{class:S(o.$q.dark.isActive?"text-red-3":"text-negative")},m(s.errors&&s.errors[0].$message),3)]),"selected-item":t(e=>[a(B,{tabindex:e.tabindex,color:"primary","text-color":"white",class:"q-ma-none"},{default:t(()=>[a(c,{size:"sm"},{default:t(()=>[l("img",{src:e.opt.logo.url},null,8,N)]),_:2},1024),f(" "+m(e.opt.name),1)]),_:2},1032,["tabindex"])]),_:1},16,["options","modelValue","label"]))}};export{Z as default};
